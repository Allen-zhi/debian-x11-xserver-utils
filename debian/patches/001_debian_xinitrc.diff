Index: xbase-clients/xinit-X11R7.0-1.0.1/xinitrc.cpp
===================================================================
--- xbase-clients.orig/xinit-X11R7.0-1.0.1/xinitrc.cpp	2006-01-30 19:14:59.000000000 -0500
+++ xbase-clients/xinit-X11R7.0-1.0.1/xinitrc.cpp	2006-02-18 14:50:45.000000000 -0500
@@ -1,75 +1,9 @@
 XCOMM!SHELL_CMD
 XCOMM $Xorg: xinitrc.cpp,v 1.3 2000/08/17 19:54:30 cpqbld Exp $
 
-userresources=$HOME/.Xresources
-usermodmap=$HOME/.Xmodmap
-sysresources=XINITDIR/.Xresources
-sysmodmap=XINITDIR/.Xmodmap
+XCOMM /etc/X11/xinit/xinitrc
+XCOMM
+XCOMM global xinitrc file, used by all X sessions started by xinit (startx)
 
-XCOMM merge in defaults and keymaps
-
-if [ -f $sysresources ]; then
-    XRDB -merge $sysresources
-fi
-
-if [ -f $sysmodmap ]; then
-    XMODMAP $sysmodmap
-fi
-
-if [ -f $userresources ]; then
-    XRDB -merge $userresources
-fi
-
-if [ -f $usermodmap ]; then
-    XMODMAP $usermodmap
-fi
-
-XCOMM start some nice programs
-
-#if defined(__SCO__) || defined(__UNIXWARE__)
-if [ -r /etc/default/xdesktops ]; then
-  . /etc/default/xdesktops
-fi
-
-if [ -r $HOME/.x11rc ]; then
-  . $HOME/.x11rc
-else
-  if [ -r /etc/default/X11 ]; then
-  . /etc/default/X11
-  fi
-fi
-
-#if defined(__SCO__)
-if [ -n "$XSESSION" ]; then
-  case "$XSESSION" in
-    [Yy][Ee][Ss])
-      [ -x /usr/bin/X11/scosession ] && exec /usr/bin/X11/scosession
-      ;;
-  esac
-fi
-
-if [ -n "$XDESKTOP" ]; then
-  exec `eval echo $"$XDESKTOP"`
-else
-  if [ -x /usr/bin/X11/pmwm -a -x /usr/bin/X11/scoterm ]; then
-    /usr/bin/X11/scoterm 2> /dev/null &
-    exec /usr/bin/X11/pmwm    2> /dev/null
-  fi
-fi
-#elif defined(__UNIXWARE__)
-if [ -n "$XDESKTOP" ]; then
-  exec `eval echo $"$XDESKTOP"`
-else
-  if [ -x /usr/X/bin/pmwm ]; then
-    exec /usr/X/bin/pmwm    2> /dev/null
-  fi
-fi
-#endif
-
-XCOMM This is the fallback case if nothing else is executed above
-#endif /* !defined(__SCO__)  && !defined(__UNIXWARE__) */
-TWM &
-XCLOCK -geometry 50x50-1+1 &
-XTERM -geometry 80x50+494+51 &
-XTERM -geometry 80x20+494-0 &
-exec XTERM -geometry 80x66+0+0 -name login
+XCOMM invoke global X session script
+. /etc/X11/Xsession
